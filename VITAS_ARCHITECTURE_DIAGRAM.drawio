<mxfile host="app.diagrams.net" agent="Claude Code" version="24.0.0">
  <diagram id="VitasArchitecture" name="VITAS Clinic - System Architecture">
    <mxGraphModel dx="2800" dy="1600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title-line" value="" style="line;strokeWidth=3;html=1;fontSize=14;shadow=0;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="60" width="1640" height="10" as="geometry" />
        </mxCell>
        <mxCell id="title-text" value="VITAS Clinic - Arquitectura de Sistema" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;fontColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="800" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aws-cloud" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="1640" height="1180" as="geometry" />
        </mxCell>
        <mxCell id="frontend-swimlane" value="FRONTEND LAYER" style="swimlane;horizontal=0;startSize=23;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="aws-cloud">
          <mxGeometry y="30" width="1640" height="120" as="geometry" />
        </mxCell>
        <mxCell id="doctor-dashboard" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Doctor Dashboard&lt;br&gt;(Next.js)&lt;/span&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" vertex="1" parent="frontend-swimlane">
          <mxGeometry x="120" y="40" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="patient-portal" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Patient Portal&lt;br&gt;(Next.js)&lt;/span&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" vertex="1" parent="frontend-swimlane">
          <mxGeometry x="320" y="40" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="whatsapp" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;WhatsApp&lt;br&gt;Business&lt;/span&gt;" style="sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=10;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.mscae.enterprise.mobile;fillColor=#7FBA42;strokeColor=#ffffff;" vertex="1" parent="frontend-swimlane">
          <mxGeometry x="520" y="40" width="38" height="50" as="geometry" />
        </mxCell>
        <mxCell id="api-gateway-swimlane" value="API GATEWAY LAYER" style="swimlane;horizontal=0;startSize=23;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="aws-cloud">
          <mxGeometry y="160" width="1640" height="140" as="geometry" />
        </mxCell>
        <mxCell id="main-api" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Main API&lt;br&gt;auth doctors patients&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="api-gateway-swimlane">
          <mxGeometry x="120" y="50" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="otp-api" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;OTP API&lt;br&gt;otp chatbot&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="api-gateway-swimlane">
          <mxGeometry x="320" y="50" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="webhooks-api" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Webhooks&lt;br&gt;processing payment&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="api-gateway-swimlane">
          <mxGeometry x="520" y="50" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="stacks-swimlane" value="AWS CDK STACKS" style="swimlane;horizontal=0;startSize=23;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="aws-cloud">
          <mxGeometry y="310" width="1640" height="360" as="geometry" />
        </mxCell>
        <mxCell id="main-stack-container" value="VITAS-MAIN STACK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeWidth=2;strokeColor=#000000;verticalAlign=top;fontSize=10;fontColor=#0a0a0a;fontStyle=1" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="60" y="30" width="200" height="310" as="geometry" />
        </mxCell>
        <mxCell id="auth-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;VitasAuth&lt;br&gt;Function&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="140" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cloudfront" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;CloudFront&lt;br&gt;CDN&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="140" y="140" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="s3-profiles" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;S3&lt;br&gt;Profile Pics&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="140" y="210" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="auth-otp-stack-container" value="VITAS-AUTH-OTP STACK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeWidth=2;strokeColor=#000000;verticalAlign=top;fontSize=10;fontColor=#0a0a0a;fontStyle=1" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="300" y="30" width="260" height="310" as="geometry" />
        </mxCell>
        <mxCell id="otp-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;OTP&lt;br&gt;Verify&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="350" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="chat-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Chat&lt;br&gt;Gateway&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="450" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="payment-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Payment&lt;br&gt;Confirm&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="350" y="140" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="process-stack-container" value="VITAS-PROCESS STACK" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeWidth=2;strokeColor=#000000;verticalAlign=top;fontSize=10;fontColor=#0a0a0a;fontStyle=1" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="600" y="30" width="360" height="310" as="geometry" />
        </mxCell>
        <mxCell id="transcription-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Transcription&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="650" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="soap-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;SOAP&lt;br&gt;Report&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="750" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="icd-lambda" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;ICD&lt;br&gt;Diagnosis&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="850" y="70" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step-functions" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Step&lt;br&gt;Functions&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.step_functions;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="750" y="140" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="s3-media" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;S3 Media&lt;br&gt;Processing&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="650" y="210" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sqs-dlq" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;SQS&lt;br&gt;DLQ (3)&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="850" y="210" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eventbridge" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;EventBridge&lt;br&gt;Scheduler&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="750" y="210" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="langgraph-container" value="LANGGRAPH AI CLOUD" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeWidth=2;strokeColor=#000000;verticalAlign=top;fontSize=10;fontColor=#0a0a0a;fontStyle=1" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="1000" y="30" width="200" height="310" as="geometry" />
        </mxCell>
        <mxCell id="doctor-agent" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Doctor&lt;br&gt;Agent&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#4A90E5;fontColor=#ffffff;strokeColor=#1A70C5;fontSize=9;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="1080" y="80" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="patient-agent" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Patient&lt;br&gt;Agent&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#4A90E5;fontColor=#ffffff;strokeColor=#1A70C5;fontSize=9;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="1080" y="160" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="react-pattern" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;ReAct&lt;br&gt;Pattern&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;" vertex="1" parent="stacks-swimlane">
          <mxGeometry x="1080" y="230" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="database-swimlane" value="DATABASE LAYER - DynamoDB (12 Tables)" style="swimlane;horizontal=0;startSize=23;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="aws-cloud">
          <mxGeometry y="680" width="1640" height="140" as="geometry" />
        </mxCell>
        <mxCell id="patients-table" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Patients&lt;br&gt;Table V2&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="database-swimlane">
          <mxGeometry x="100" y="50" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="doctors-table" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Doctors&lt;br&gt;Table V2&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="database-swimlane">
          <mxGeometry x="200" y="50" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="appointments-table" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Appointments&lt;br&gt;Table V2&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="database-swimlane">
          <mxGeometry x="300" y="50" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="otp-table" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;OTP&lt;br&gt;Table&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="database-swimlane">
          <mxGeometry x="400" y="50" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wa-sessions-table" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;WA&lt;br&gt;Sessions&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="database-swimlane">
          <mxGeometry x="500" y="50" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="external-swimlane" value="EXTERNAL INTEGRATIONS" style="swimlane;horizontal=0;startSize=23;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="aws-cloud">
          <mxGeometry y="830" width="1640" height="140" as="geometry" />
        </mxCell>
        <mxCell id="openai" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;OpenAI&lt;br&gt;GPT-4o Whisper&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="100" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="anthropic" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Anthropic&lt;br&gt;Claude&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#a0522d;fontColor=#ffffff;strokeColor=#6F4A2F;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="200" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="twilio" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Twilio&lt;br&gt;WhatsApp API&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="300" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mercadopago" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;MercadoPago&lt;br&gt;Payments&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="400" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="deepgram" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Deepgram&lt;br&gt;STT&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#6a00ff;fontColor=#ffffff;strokeColor=#3700CC;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="500" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="upstash" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Upstash&lt;br&gt;Redis&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=9;" vertex="1" parent="external-swimlane">
          <mxGeometry x="600" y="50" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="monitoring-swimlane" value="MONITORING AND OBSERVABILITY" style="swimlane;horizontal=0;startSize=23;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="aws-cloud">
          <mxGeometry y="980" width="1640" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cloudwatch" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;CloudWatch&lt;br&gt;Logs Metrics&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch;" vertex="1" parent="monitoring-swimlane">
          <mxGeometry x="100" y="30" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="langsmith" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;LangSmith&lt;br&gt;Monitoring&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;fontSize=9;" vertex="1" parent="monitoring-swimlane">
          <mxGeometry x="200" y="30" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ssm" value="&lt;span style=&quot;font-size: 9px;&quot;&gt;Systems Manager&lt;br&gt;Parameter Store&lt;/span&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=9;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.systems_manager;" vertex="1" parent="monitoring-swimlane">
          <mxGeometry x="300" y="30" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="doctor-dashboard" target="main-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="patient-portal" target="otp-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="whatsapp" target="otp-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="main-api" target="auth-lambda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="otp-api" target="otp-lambda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="otp-api" target="chat-lambda">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="345" y="330" />
              <mxPoint x="470" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="webhooks-api" target="transcription-lambda">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="545" y="330" />
              <mxPoint x="670" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="aws-cloud" source="chat-lambda" target="doctor-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="transcription-lambda" target="step-functions">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="step-functions" target="soap-lambda">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="490" />
              <mxPoint x="770" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="step-functions" target="icd-lambda">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="810" y="470" />
              <mxPoint x="870" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="aws-cloud" source="auth-lambda" target="patients-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="aws-cloud" source="auth-lambda" target="doctors-table">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="650" />
              <mxPoint x="220" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="aws-cloud" source="otp-lambda" target="otp-table">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="370" y="650" />
              <mxPoint x="420" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="aws-cloud" source="chat-lambda" target="wa-sessions-table">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="470" y="650" />
              <mxPoint x="520" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="aws-cloud" source="soap-lambda" target="appointments-table">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="650" />
              <mxPoint x="320" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;strokeColor=#1ba1e2;" edge="1" parent="aws-cloud" source="transcription-lambda" target="openai">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="810" />
              <mxPoint x="130" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;strokeColor=#a0522d;" edge="1" parent="aws-cloud" source="soap-lambda" target="anthropic">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="810" />
              <mxPoint x="230" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;strokeColor=#e51400;" edge="1" parent="aws-cloud" source="chat-lambda" target="twilio">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="470" y="810" />
              <mxPoint x="330" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;strokeColor=#0050ef;" edge="1" parent="aws-cloud" source="payment-lambda" target="mercadopago">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="370" y="810" />
              <mxPoint x="430" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="s3-profiles" target="cloudfront">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="s3-media" target="transcription-lambda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;strokeColor=#ff0000;" edge="1" parent="aws-cloud" source="step-functions" target="sqs-dlq">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="aws-cloud" source="eventbridge" target="sqs-dlq">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="legend-box" value="ARCHITECTURE NOTES - 17 Lambda Functions (Node.js 20.x ARM64) - 12 DynamoDB Tables (Pay-per-request) - 3 S3 Buckets (Profile pics Media Logs) - 2 Step Functions Workflows - 3 SQS Dead Letter Queues - CloudFront CDN for static assets - EventBridge for scheduled retries (2h) - 6 External API integrations - Multi-LLM strategy (OpenAI + Anthropic) - Auto-retry with exponential backoff - SSM Parameter Store for secrets" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;fontSize=9;spacingLeft=10;spacingTop=10;" vertex="1" parent="aws-cloud">
          <mxGeometry x="1240" y="30" width="360" height="240" as="geometry" />
        </mxCell>
        <mxCell id="marker1" value="&lt;span style=&quot;font-size: 7px;&quot;&gt;1&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="aws-cloud">
          <mxGeometry x="140" y="150" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="marker2" value="&lt;span style=&quot;font-size: 7px;&quot;&gt;2&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="aws-cloud">
          <mxGeometry x="140" y="300" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="marker3" value="&lt;span style=&quot;font-size: 7px;&quot;&gt;3&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="aws-cloud">
          <mxGeometry x="670" y="300" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="marker4" value="&lt;span style=&quot;font-size: 7px;&quot;&gt;4&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="aws-cloud">
          <mxGeometry x="770" y="400" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="flow-note1" value="&lt;span style=&quot;font-size: 8px;&quot;&gt;User authenticates via JWT&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aws-cloud">
          <mxGeometry x="30" y="155" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow-note2" value="&lt;span style=&quot;font-size: 8px;&quot;&gt;Audio processing pipeline with AI transcription&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aws-cloud">
          <mxGeometry x="540" y="280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="flow-note3" value="&lt;span style=&quot;font-size: 8px;&quot;&gt;Failed jobs sent to DLQ for retry (14 day retention)&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aws-cloud">
          <mxGeometry x="900" y="260" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
